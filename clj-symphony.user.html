<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>clj-symphony.user documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Clj-symphony</span> <span class="project-version">0.8.0-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clj-symphony</span></div></div></li><li class="depth-2 branch"><a href="clj-symphony.chat.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>chat</span></div></a></li><li class="depth-2 branch"><a href="clj-symphony.connect.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>connect</span></div></a></li><li class="depth-2 branch"><a href="clj-symphony.message.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>message</span></div></a></li><li class="depth-2 branch"><a href="clj-symphony.room.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>room</span></div></a></li><li class="depth-2 branch"><a href="clj-symphony.stream.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>stream</span></div></a></li><li class="depth-2 branch current"><a href="clj-symphony.user.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>user</span></div></a></li><li class="depth-2"><a href="clj-symphony.user-connection.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>user-connection</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="clj-symphony.user.html#var-cross-pod.3F"><div class="inner"><span>cross-pod?</span></div></a></li><li class="depth-1"><a href="clj-symphony.user.html#var-presence"><div class="inner"><span>presence</span></div></a></li><li class="depth-1"><a href="clj-symphony.user.html#var-presence-states"><div class="inner"><span>presence-states</span></div></a></li><li class="depth-1"><a href="clj-symphony.user.html#var-same-pod.3F"><div class="inner"><span>same-pod?</span></div></a></li><li class="depth-1"><a href="clj-symphony.user.html#var-set-presence.21"><div class="inner"><span>set-presence!</span></div></a></li><li class="depth-1"><a href="clj-symphony.user.html#var-update-user.21"><div class="inner"><span>update-user!</span></div></a></li><li class="depth-1"><a href="clj-symphony.user.html#var-user"><div class="inner"><span>user</span></div></a></li><li class="depth-1"><a href="clj-symphony.user.html#var-user-by-username"><div class="inner"><span>user-by-username</span></div></a></li><li class="depth-1"><a href="clj-symphony.user.html#var-user-id"><div class="inner"><span>user-id</span></div></a></li><li class="depth-1"><a href="clj-symphony.user.html#var-userobj"><div class="inner"><span>userobj</span></div></a></li><li class="depth-1"><a href="clj-symphony.user.html#var-userobj-.3Emap"><div class="inner"><span>userobj-&gt;map</span></div></a></li><li class="depth-1"><a href="clj-symphony.user.html#var-userobj-by-username"><div class="inner"><span>userobj-by-username</span></div></a></li><li class="depth-1"><a href="clj-symphony.user.html#var-userobjs"><div class="inner"><span>userobjs</span></div></a></li><li class="depth-1"><a href="clj-symphony.user.html#var-users"><div class="inner"><span>users</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">clj-symphony.user</h1><div class="doc"><div class="markdown"><p>Operations related to users. A user can be either a human or a service account (bot). Users can be identified in 3 separate ways:</p>
<ol>
  <li>via a user id - a Long that is globally unique across all pods</li>
  <li>via an email address - a String, though only unique within a pod</li>
  <li>via a username - a String, though only unique within a pod</li>
</ol></div></div><div class="public anchor" id="var-cross-pod.3F"><h3>cross-pod?</h3><div class="usage"><code>(cross-pod? c u)</code></div><div class="doc"><div class="markdown"><p>Returns <code>true</code> if the given user is in a different pod to the authenticated connection user, or <code>nil</code> if the user doesn’t exist.</p></div></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/user.clj#L251">view source</a></div></div><div class="public anchor" id="var-presence"><h3>presence</h3><h4 class="type">multimethod</h4><div class="usage"><code>(presence c)</code><code>(presence c u)</code></div><div class="doc"><div class="markdown"><p>Returns the presence status of a single user, as a keyword. If no user identifier is provided, returns the presence status of the authenticated connection user.</p></div></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/user.clj#L265">view source</a></div></div><div class="public anchor" id="var-presence-states"><h3>presence-states</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>The set of possible presence states in Symphony, as keywords.</p></div></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/user.clj#L260">view source</a></div></div><div class="public anchor" id="var-same-pod.3F"><h3>same-pod?</h3><div class="usage"><code>(same-pod? c u)</code></div><div class="doc"><div class="markdown"><p>Returns <code>true</code> if the given user is in the same pod as the authenticated connection user, or <code>nil</code> if the user doesn’t exist.</p></div></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/user.clj#L242">view source</a></div></div><div class="public anchor" id="var-set-presence.21"><h3>set-presence!</h3><div class="usage"><code>(set-presence! c p)</code></div><div class="doc"><div class="markdown"><p>Sets the presence status of the authenticated connection user. The new presence must be one of <a href="clj-symphony.user.html#var-presence-states">presence-states</a>. Note: as of SJC 1.1.0, setting presences of other users is no longer supported.</p></div></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/user.clj#L301">view source</a></div></div><div class="public anchor" id="var-update-user.21"><h3>update-user!</h3><div class="usage"><code>(update-user! c u)</code></div><div class="doc"><div class="markdown"><p>Updates the details of an existing user, returning it as a map (see <a href="clj-symphony.user.html#var-userobj-.3Emap">userobj-&gt;map</a> for details). The new user details are provided as a map with these keys:</p>
<table>
  <thead>
    <tr>
      <th>Key </th>
      <th>Description </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>:user-id</code> </td>
      <td>The id of the user to update. </td>
    </tr>
    <tr>
      <td><code>:username</code> </td>
      <td>The new username of the user. <em>#### This might be create-only?</em> </td>
    </tr>
    <tr>
      <td><code>:email-address</code> </td>
      <td>The new email address of the user. </td>
    </tr>
    <tr>
      <td><code>:title</code> </td>
      <td>The new title of the user. </td>
    </tr>
    <tr>
      <td><code>:first-name</code> </td>
      <td>The new first name of the user. </td>
    </tr>
    <tr>
      <td><code>:last-name</code> </td>
      <td>The new last name of the user. </td>
    </tr>
    <tr>
      <td><code>:display-name</code> </td>
      <td>The new display name of the user. </td>
    </tr>
    <tr>
      <td><code>:company</code> </td>
      <td>The new company of the user. <em>#### This might be read-only?</em> </td>
    </tr>
    <tr>
      <td><code>:location</code> </td>
      <td>The new location of the user. </td>
    </tr>
    <tr>
      <td><code>:avatars</code> </td>
      <td>A sequence of avatar maps (see below). </td>
    </tr>
  </tbody>
</table>
<p><code>:user-id</code> is mandatory (it must be present and cannot be <code>nil</code>).</p>
<p>Avatar maps contain these keys:</p>
<table>
  <thead>
    <tr>
      <th>Key </th>
      <th>Description </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>:size</code> </td>
      <td>The ‘size string’ of the avatar (e.g. <code>small</code>, <code>original</code>). </td>
    </tr>
    <tr>
      <td><code>:url</code> </td>
      <td>The URL of the new avatar image file. </td>
    </tr>
  </tbody>
</table>
<p>Note: calling this fn requires that the service account have the ‘user administration’ entitlement.</p></div></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/user.clj#L207">view source</a></div></div><div class="public anchor" id="var-user"><h3>user</h3><div class="usage"><code>(user c)</code><code>(user c u)</code></div><div class="doc"><div class="markdown"><p>Returns a user as a map (see <a href="clj-symphony.user.html#var-userobj-.3Emap">userobj-&gt;map</a> for details) for the given user identifier, or the authenticated connection user if a user id is not provided.</p></div></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/user.clj#L151">view source</a></div></div><div class="public anchor" id="var-user-by-username"><h3>user-by-username</h3><div class="usage"><code>(user-by-username c u)</code></div><div class="doc"><div class="markdown"><p>Returns a user as a map (see <a href="clj-symphony.user.html#var-userobj-.3Emap">userobj-&gt;map</a> for details) for the given username, or <code>nil</code> if the user doesn’t exist.</p></div></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/user.clj#L165">view source</a></div></div><div class="public anchor" id="var-user-id"><h3>user-id</h3><h4 class="type">multimethod</h4><div class="usage"><code>(user-id u)</code></div><div class="doc"><div class="markdown"><p>Returns the id (a long) of the given user.</p></div></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/user.clj#L69">view source</a></div></div><div class="public anchor" id="var-userobj"><h3>userobj</h3><h4 class="type">multimethod</h4><div class="usage"><code>(userobj c)</code><code>(userobj c u)</code></div><div class="doc"><div class="markdown"><p>Returns a <code>org.symphonyoss.symphony.clients.model.SymUser</code> object for the given user identifier, or the authenticated connection user if a user id is not provided. User can be specified either as a user id (Long) or an email address (String). Returns <code>nil</code> if the user doesn’t exist.</p>
<p>Note: providing a user identifier requires calls to the server.</p></div></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/user.clj#L107">view source</a></div></div><div class="public anchor" id="var-userobj-.3Emap"><h3>userobj-&gt;map</h3><div class="usage"><code>(userobj-&gt;map u)</code></div><div class="doc"><div class="markdown"><p>Converts a <code>org.symphonyoss.symphony.clients.model.SymUser</code> object into a map with these keys:</p>
<table>
  <thead>
    <tr>
      <th>Key </th>
      <th>Description </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>:user-id</code> </td>
      <td>The id of the user. </td>
    </tr>
    <tr>
      <td><code>:username</code> </td>
      <td>The username of the user. </td>
    </tr>
    <tr>
      <td><code>:email-address</code> </td>
      <td>The email address of the user. </td>
    </tr>
    <tr>
      <td><code>:title</code> </td>
      <td>The title of the user. </td>
    </tr>
    <tr>
      <td><code>:first-name</code> </td>
      <td>The first name of the user. </td>
    </tr>
    <tr>
      <td><code>:last-name</code> </td>
      <td>The last name of the user. </td>
    </tr>
    <tr>
      <td><code>:display-name</code> </td>
      <td>The display name of the user. </td>
    </tr>
    <tr>
      <td><code>:company</code> </td>
      <td>The company of the user. </td>
    </tr>
    <tr>
      <td><code>:location</code> </td>
      <td>The location of the user. </td>
    </tr>
    <tr>
      <td><code>:avatars</code> </td>
      <td>A sequence of avatar maps (see below). </td>
    </tr>
  </tbody>
</table>
<p>Avatar maps contain these keys:</p>
<table>
  <thead>
    <tr>
      <th>Key </th>
      <th>Description </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>:size</code> </td>
      <td>The ‘size string’ of the avatar (e.g. <code>small</code>, <code>original</code>). </td>
    </tr>
    <tr>
      <td><code>:url</code> </td>
      <td>The URL of the new avatar image file. </td>
    </tr>
  </tbody>
</table></div></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/user.clj#L27">view source</a></div></div><div class="public anchor" id="var-userobj-by-username"><h3>userobj-by-username</h3><div class="usage"><code>(userobj-by-username c u)</code></div><div class="doc"><div class="markdown"><p>Returns a <code>org.symphonyoss.symphony.clients.model.SymUser</code> object for the given username, or <code>nil</code> if the user doesn’t exist.</p></div></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/user.clj#L158">view source</a></div></div><div class="public anchor" id="var-userobjs"><h3>userobjs</h3><div class="usage"><code>(userobjs c)</code></div><div class="doc"><div class="markdown"><p>Returns all users in the pod, as <code>org.symphonyoss.symphony.clients.model.SymUser</code> objects. Will throw an exception if the authenticated connection user doesn’t have sufficient permissions.</p></div></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/user.clj#L91">view source</a></div></div><div class="public anchor" id="var-users"><h3>users</h3><div class="usage"><code>(users c)</code></div><div class="doc"><div class="markdown"><p>Returns all users in the pod as maps (see <a href="clj-symphony.user.html#var-userobj-.3Emap">userobj-&gt;map</a>). Will throw an exception if the authenticated connection user doesn’t have sufficient permissions.</p></div></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/user.clj#L99">view source</a></div></div></div></body></html>